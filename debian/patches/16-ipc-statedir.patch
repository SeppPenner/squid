Author: Luigi Gangitano <luigi@debian.org>
Description: Change default statedir for IPC to /var/run/squid3
--- a/src/ipc/Makefile.am
+++ b/src/ipc/Makefile.am
@@ -70,7 +70,7 @@ libipc_la_SOURCES = \
 	mem/Segment.cc \
 	mem/Segment.h
 
-DEFS += -DDEFAULT_STATEDIR=\"$(localstatedir)/run/squid\"
+DEFS += -DDEFAULT_STATEDIR=\"$(localstatedir)/run/squid3\"
 
 install-data-local:
-	$(mkinstalldirs) $(DESTDIR)$(localstatedir)/run/squid;
+	$(mkinstalldirs) $(DESTDIR)$(localstatedir)/run/squid3;
--- a/src/ipc/Makefile.in
+++ b/src/ipc/Makefile.in
@@ -484,7 +484,7 @@ DEFAULT_HOSTS = @DEFAULT_HOSTS@
 DEFAULT_LOG_DIR = @DEFAULT_LOG_DIR@
 DEFAULT_PID_FILE = @DEFAULT_PID_FILE@
 DEFAULT_SWAP_DIR = @DEFAULT_SWAP_DIR@
-DEFS = @DEFS@ -DDEFAULT_STATEDIR=\"$(localstatedir)/run/squid\"
+DEFS = @DEFS@ -DDEFAULT_STATEDIR=\"$(localstatedir)/run/squid3\"
 DEPDIR = @DEPDIR@
 DIGEST_AUTH_HELPERS = @DIGEST_AUTH_HELPERS@
 DISK_LIBS = @DISK_LIBS@
@@ -1262,7 +1262,7 @@ testHeaders: $(srcdir)/*.h
 .PHONY: testHeaders
 
 install-data-local:
-	$(mkinstalldirs) $(DESTDIR)$(localstatedir)/run/squid;
+	$(mkinstalldirs) $(DESTDIR)$(localstatedir)/run/squid3;
 
 # Tell versions [3.59,3.63) of GNU make to not export all variables.
 # Otherwise a system limit (for SysV at least) may be exceeded.
